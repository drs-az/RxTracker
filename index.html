<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rx Tracker</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" />
  <script defer src="app.js"></script>
</head>
<body>
  <header id="main-header">
    <img id="logo" src="icon-512.png" alt="Logo" />
    <h1>Rx Tracker</h1>
  </header>

  <section id="setup">
    <h2>Setup Medications & Vitamins</h2>
    <form id="med-form">
      <input type="text" id="med-name" placeholder="Name" required />
      <input type="text" id="med-dose" placeholder="Dose" required />
      <input type="number" id="med-frequency" placeholder="Times per day" min="1" required />
      <div id="time-inputs"></div>
      <button type="button" id="add-time">Add Time</button>
      <button type="submit">Save Medication</button>
    </form>
    <ul id="med-list"></ul>
    <div id="fs-info">
      <p>
        You can keep your data in a folder on this device. Choose a folder below
        and the app will save everything there first. If it ever can't use that
        folder, you'll see a message and it will save in the browser instead.
      </p>
    </div>
    <div id="fs-setup">
      <button type="button" id="choose-folder">Choose Backup Folder</button>
      <span id="folder-display"></span>
    </div>
  </section>

  <section id="today-log" class="active">
    <h2>Today's Log: <span id="today-date"></span></h2>
    <ul id="log-list"></ul>

    <h3>Record Vitals</h3>
    <form id="vitals-form">
      <input type="number" id="systolic" placeholder="Systolic" required />
      <input type="number" id="diastolic" placeholder="Diastolic" required />
      <input type="number" id="heart-rate" placeholder="Heart Rate" required />
      <button type="submit">Save Vitals</button>
    </form>
    <div id="vitals-display"></div>
    <button type="button" id="edit-vitals">Edit Vitals</button>
  </section>

  <section id="tracker">
    <h2>Tracker</h2>
    <label for="history-med-select">Medication/Vitamin:</label>
    <select id="history-med-select"></select>
    <table id="history-table">
      <thead>
        <tr><th>Date</th><th>Time</th><th>Taken</th></tr>
      </thead>
      <tbody></tbody>
    </table>
<br><br>
    <h3>Blood Pressure</h3>
    <canvas id="bp-chart" width="300" height="150"></canvas>
    <button id="download-bp">Download PNG</button>
<br><br>
    <h3>Heart Rate</h3>
    <canvas id="hr-chart" width="300" height="150"></canvas>
    <button id="download-hr">Download PNG</button>
  </section>

  <nav id="bottom-nav">
    <button data-target="today-log">Today's Log</button>
    <button data-target="setup">Setup Rx</button>
    <button data-target="tracker">Tracker</button>
  </nav>
</body>
</html>
